unit F1_Logical;

interface

uses
  globalData, constdata;
procedure SaveGardenMas;
procedure StartData;
procedure ReadGardenMas;

implementation

procedure SaveGardenMas;

var
  currfile: file of TGardenCell;
  count: integer;
begin
  assignfile(currfile, UserFileGarden);
  rewrite(currfile);

  count := 0;
  for var I := 0 to _GardenX do
  begin
    for var J := 0 to _GardenY do
    begin
      seek(currfile, count);
      write(currfile, GardenMas[I][J]);
      inc(count);
    end;
  end;

  closefile(currfile);

end;

procedure StartData;
var
  I, J: integer;
begin
  // *
  for I := 0 to 6 do
  begin
    for J := 0 to 4 do
    begin
      GardenMas[I][J].CodGarden := 1;
      // GardenMas[I][J].Ñulture := 666;
    end;
  end;

  for I := 7 to 13 do
  begin
    for J := 0 to 7 do
    begin
      GardenMas[I][J].CodGarden := 2;
      // GardenMas[I][J].Ñulture := 666;
    end;
  end;

  for I := 14 to _GardenX do
  begin
    for J := 0 to _GardenY do
    begin
      GardenMas[I][J].CodGarden := 3;
      // GardenMas[I][J].Ñulture := 666;
    end;
  end;

  for I := 7 to 13 do
  begin
    for J := 6 to _GardenY do
    begin
      GardenMas[I][J].CodGarden := 4;
      // GardenMas[I][J].Ñulture := 666;
    end;
  end;

  for I := 0 to 6 do
  begin
    for J := 4 to _GardenY do
    begin
      GardenMas[I][J].CodGarden := 4;
      // GardenMas[I][J].Ñulture := 666;
    end;
  end;
end;

procedure ReadGardenMas;
var
  currfile: file of TGardenCell;
  count: integer;
  I, J: integer;
begin

  assignfile(currfile, UserFileGarden);
  Reset(currfile);
  count := 0;

  for  I := 0 to _GardenX do
  begin
    for  J := 0 to _GardenY do
    begin
     Read(currfile,GardenMas[i][j]);
    end;
  end;

  closefile(currfile);

end;


end.
